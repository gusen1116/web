:root{
  --bg:#121212; --card:#151515; --text:#E6E6E6; --muted:#A5A5A5;
  --bd:rgba(255,255,255,0.08);
  --blue:#2196F3; --yellow:#FFD54F; --orange:#FF9800;
  --radius:8px; --gap:16px; --shadow:0 6px 14px rgba(0,0,0,0.28);
  --fz-title:1rem; --fz-meta:.85rem; --trans:200ms ease;
}

*{ box-sizing:border-box; }
body{ margin:0; background:var(--bg); color:var(--text);
  font-family:"Pretendard Variable",'Pretendard Rounded','Gmarket Sans','Spoqa Han Sans Neo',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  line-height:1.6;
}

/* Header (히드업) */
.site-header{
  position:sticky; top:0; z-index:100;
  background:rgba(18,18,18,.85); backdrop-filter:blur(8px);
  display:flex; justify-content:space-between; align-items:center;
  padding:1rem 2rem; border-bottom:1px solid var(--bd);
  transition:transform 220ms ease;
}
.site-header .logo a{ color:#fff; text-decoration:none; font-weight:700; }
.nav .nav-link{ color:var(--muted); text-decoration:none; margin-left:1rem; }
.nav .nav-link:hover{ color:var(--yellow); } /* 헤더에 포인트 */

/* Toolbar */
.gallery-toolbar{
  display:flex; justify-content:space-between; align-items:flex-end;
  gap:1rem; padding:2rem 2.5rem 1rem; max-width:1800px; margin:0 auto;
}
.page-title{ margin:0; font-weight:700; letter-spacing:.2px; color:#fff; } /* 제목은 하얀색 */
.page-sub{ margin:.35rem 0 0; color:var(--muted); }

.select-wrap{ position:relative; }
#yearFilter{
  appearance:none; background:var(--card); color:var(--text);
  border:1px solid var(--bd); border-radius:8px; padding:.6rem 2.2rem .6rem .8rem;
  transition:border-color var(--trans), background var(--trans);
}
#yearFilter:hover{ border-color:var(--blue); } /* 버튼류에 포인트 */
.select-caret{ position:absolute; right:.6rem; top:50%; transform:translateY(-50%);
  font-size:.8rem; color:var(--muted); pointer-events:none; }

/* Masonry */
.masonry{
  column-gap: var(--gap);
  padding: 0 2.5rem 2.5rem; max-width:1800px; margin:0 auto;
}
@media (min-width:1600px){ .masonry{ column-count:5; } }
@media (min-width:1200px) and (max-width:1599px){ .masonry{ column-count:4; } }
@media (min-width:720px) and (max-width:1199px){ .masonry{ column-count:3; } }
@media (max-width:719px){ .masonry{ column-count:2; } }

.photo-card{ display:inline-block; width:100%; margin:0 0 var(--gap); break-inside:avoid; }
.card-figure{
  position:relative; background:var(--card);
  border:1px solid var(--bd); border-radius:8px; overflow:hidden;
  box-shadow:none;
  transition: transform var(--trans), box-shadow var(--trans), border-color var(--trans), opacity 280ms ease;
}
.card-figure:hover{ transform:translateY(-2px); box-shadow:var(--shadow); border-color:rgba(255,255,255,0.14); }
.card-figure img{ display:block; width:100%; height:auto; }

/* 캡션 */
.card-caption{
  position:absolute; left:0; bottom:8%; width:100%;
  padding:.1rem .9rem .3rem;
  background: linear-gradient(to top, rgba(0,0,0,.55), rgba(0,0,0,0));
  display:flex; flex-direction:column; gap:.2rem;
}
.card-caption .title{
  color:#FFFFFF; font-size:var(--fz-title); font-weight:500; line-height:1.3;
  text-shadow:0 .8px 1px rgba(0,0,0,.7); /* 1px 이하 미세 그림자 */
}
.card-caption .meta{
  opacity:0; transform:translateY(6px);
  transition:opacity 180ms ease, transform 180ms ease;
  color:rgba(255,255,255,0.7); font-size:var(--fz-meta);
  text-shadow:0 .8px 1px rgba(0,0,0,.6);
}
.card-figure:hover .meta{ opacity:1; transform:translateY(0); }

/* 로딩 페이드 */
.photo-card[data-inview="0"] .card-figure{ opacity:0; transform:translateY(6px); }
.photo-card[data-inview="1"] .card-figure{ opacity:1; transform:none; }

/* Detail page */
.detail-page-container{ display:flex; flex-direction:column; min-height:calc(100vh - 65px); }
.detail-main{ flex-grow:1; display:grid; grid-template-columns:3fr 1fr; gap:2rem; padding:2rem; max-width:1800px; margin:0 auto; width:100%; }
@media (max-width:1024px){ .detail-main{ grid-template-columns:1fr; } }
.detail-image-wrapper{ display:flex; align-items:center; justify-content:center; background:#000; border-radius:8px; overflow:hidden; }
.detail-image-wrapper img{ max-width:100%; max-height:calc(100vh - 120px); object-fit:contain; }
.detail-meta-wrapper{ background:var(--card); border:1px solid var(--bd); border-radius:8px; padding:2rem; overflow-y:auto; }
.detail-title{ font-size:2rem; font-weight:700; margin:0 0 1.5rem; color:#fff; }
.detail-meta-wrapper dl{ display:grid; grid-template-columns:max-content 1fr; gap:1rem 1.5rem; font-size:.95rem; }
.detail-meta-wrapper dt{ color:var(--muted); }
.detail-meta-wrapper dd{ margin:0; font-weight:500; }

/* Footer nav */
.photo-navigation{ display:flex; justify-content:space-between; padding:1rem 2rem; background:var(--card); border-top:1px solid var(--bd); }
.nav-button{
  color:var(--muted); text-decoration:none; padding:.5rem 1rem;
  border:1px solid transparent; border-radius:20px; display:flex; align-items:center; gap:.5rem;
  transition: all var(--trans);
}
.nav-button:hover{ color:var(--text); background:rgba(255,255,255,0.06); border-color:var(--blue); }
.nav-button.disabled{ opacity:.5; pointer-events:none; }

/* ================= Lightbox ================ */
.glightbox[hidden]{ display:none; }
.glightbox{ position:fixed; inset:0; z-index:9999; display:flex; align-items:center; justify-content:center; }
.glbx-overlay{ position:absolute; inset:0; background:rgba(0,0,0,.78); }
.glbx-frame{ position:relative; width:100%; max-width:1800px; margin:0 auto; padding:0 24px; box-sizing:border-box; }

.glbx-close{
  position:absolute; top:12px; right:24px;
  background:rgba(255,255,255,0.08); color:#fff; border:1px solid rgba(255,255,255,0.15);
  border-radius:10px; padding:.35rem .6rem; cursor:pointer;
}
.glbx-close:hover{ background:rgba(255,255,255,0.12); border-color:var(--blue); }

.glbx-view{ display:grid; grid-template-columns:1fr 360px; gap:20px; align-items:stretch; }
@media (max-width:1024px){ .glbx-view{ grid-template-columns:1fr; } .glbx-panel{ order:2; } }

.glbx-image-wrap{
  position:relative; background:#000; border:1px solid var(--bd);
  border-radius:10px; overflow:hidden; min-height:50vh;
  display:flex; align-items:center; justify-content:center;
}
#glbx-img{ max-width:100%; max-height:85vh; object-fit:contain; user-select:none; transition: transform 220ms ease; }

.glbx-nav{
  position:absolute; top:50%; transform:translateY(-50%);
  background:rgba(255,255,255,0.08); color:#fff; border:1px solid rgba(255,255,255,0.15);
  border-radius:10px; padding:.5rem .7rem; cursor:pointer;
}
.glbx-prev{ left:10px; } .glbx-next{ right:10px; }
.glbx-nav:hover{ background:var(--blue); border-color:var(--blue); color:#111; }

.glbx-panel{
  background:var(--card); border:1px solid var(--bd);
  border-radius:10px; padding:16px; color:var(--text);
  font-family:"Pretendard Variable",'Pretendard Rounded','Gmarket Sans','Spoqa Han Sans Neo',sans-serif;
}
#glbx-title{ margin:0 0 .5rem; color:#fff; font-weight:600; font-size:1.05rem; text-shadow:0 .8px 1px rgba(0,0,0,.7); }
.glbx-meta{ margin:0; padding:0; display:grid; grid-template-columns:max-content 1fr; gap:.4rem 1rem; font-size:.92rem; }
.glbx-meta dt{ color:var(--muted); }
.glbx-meta dd{ margin:0; color:var(--text); }

/* 전환: 페이드 + 아주 약한 슬라이드 */
.glightbox .glbx-image-wrap.enter-from-right{ animation:glbxFadeSlideR 240ms ease; }
.glightbox .glbx-image-wrap.enter-from-left { animation:glbxFadeSlideL 240ms ease; }
@keyframes glbxFadeSlideR{ from{ opacity:0; transform:translateX(8px);} to{ opacity:1; transform:translateX(0);} }
@keyframes glbxFadeSlideL{ from{ opacity:0; transform:translateX(-8px);} to{ opacity:1; transform:translateX(0);} }

.glightbox.touch .glbx-nav{ display:none; } /* 모바일은 스와이프 우선 */

.empty-state{ padding:2rem 2.5rem; color:var(--muted); }
