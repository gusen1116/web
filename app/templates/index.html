{% extends "base.html" %}

{% block title %}홈 - 물리학과 구센{% endblock %}

{% block content %}
<!-- 메인 소개 영역 -->
<section class="hero fade-in">
    <div class="hero-content">
        <h1>물리학과 구센</h1>
        <p class="lead">과학 시뮬레이션과 프로그래밍의 조화</p>
        <div class="hero-buttons">
            <a href="{{ url_for('blog.index') }}" class="btn">블로그 보기</a>
            <a href="{{ url_for('simulation.index') }}" class="btn btn-secondary">시뮬레이션 체험</a>
        </div>
    </div>
</section>

<!-- 최신 글 섹션 -->
<section class="section">
    <div class="section-header">
        <h2>최신 글</h2>
        <p>최근에 작성된 물리학과 프로그래밍 콘텐츠를 확인해보세요.</p>
    </div>
    
    <div class="posts-grid">
        {% if recent_posts %}
            {% for post in recent_posts %}
                <article class="card fade-in" style="animation-delay: {{ loop.index0 * 100 }}ms">
                    <h3>
                        <a href="{{ url_for('blog.post', post_id=post.id) }}">{{ post.title }}</a>
                    </h3>
                    
                    <div class="post-preview">
                        <div class="preview-text">
                            {{ post.get_preview(150) }}
                        </div>
                        
                        <div class="post-meta">
                            <span class="date">{{ post.created_at.strftime('%Y년 %m월 %d일') }}</span>
                            {% if post.category %}
                                <span class="category">{{ post.category.name }}</span>
                            {% endif %}
                        </div>
                        
                        <a href="{{ url_for('blog.post', post_id=post.id) }}" class="read-more">더 읽기 →</a>
                    </div>
                </article>
            {% endfor %}
        {% else %}
            <div class="empty-state">
                <p>아직 게시글이 없습니다.</p>
            </div>
        {% endif %}
    </div>
    
    <div class="section-footer">
        <a href="{{ url_for('blog.index') }}" class="btn">모든 글 보기</a>
    </div>
</section>

<!-- 물리 시뮬레이션 섹션 -->
<section class="section bg-alt">
    <div class="section-header">
        <h2>물리 시뮬레이션</h2>
        <p>물리 법칙을 시각적으로 탐험해보세요.</p>
    </div>
    
    <div class="simulation-container">
        <div class="simulation-controls">
            <div class="control-group">
                <label for="gravityControl">중력: <span id="gravityValue">9.8</span> m/s²</label>
                <input type="range" id="gravityControl" min="0" max="20" step="0.1" value="9.8">
            </div>
            
            <div class="control-group">
                <label for="frictionControl">마찰: <span id="frictionValue">0.01</span></label>
                <input type="range" id="frictionControl" min="0" max="0.1" step="0.001" value="0.01">
            </div>
            
            <div class="button-group">
                <button id="startSimulation" class="btn btn-sm">시작</button>
                <button id="stopSimulation" class="btn btn-sm btn-secondary">정지</button>
                <button id="resetSimulation" class="btn btn-sm btn-secondary">초기화</button>
            </div>
        </div>
        
        <canvas id="simulationCanvas"></canvas>
        
        <div class="simulation-info">
            <p>이 시뮬레이션은 기본적인 물리 법칙을 시각적으로 보여줍니다. 입자들이 중력과 마찰력에 따라 어떻게 움직이는지 관찰할 수 있습니다.</p>
            <a href="{{ url_for('simulation.index') }}" class="btn btn-sm">모든 시뮬레이션 보기</a>
        </div>
    </div>
</section>

<!-- 카테고리 및 태그 섹션 -->
<section class="section">
    <div class="section-header">
        <h2>탐색</h2>
        <p>카테고리와 태그로 원하는 콘텐츠를 찾아보세요.</p>
    </div>
    
    <div class="explore-grid">
        <div class="explore-categories">
            <h3>인기 카테고리</h3>
            <ul class="category-list">
                {% for category, count in popular_categories %}
                    <li>
                        <a href="{{ url_for('blog.index') }}?category={{ category.id }}">
                            {{ category.name }}
                            <span class="count">{{ count }}</span>
                        </a>
                    </li>
                {% endfor %}
            </ul>
        </div>
        
        <div class="explore-tags">
            <h3>인기 태그</h3>
            <div class="tag-cloud">
                {% for tag, count in popular_tags %}
                    <a href="{{ url_for('blog.index') }}?tag={{ tag.id }}" 
                       class="tag"
                       style="font-size: {{ 80 + count * 10 }}%;">
                        {{ tag.name }}
                    </a>
                {% endfor %}
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.1/socket.io.min.js"></script>
{% endblock %}