{% extends "base.html" %}

{% block title %}물리 시뮬레이션{% endblock %}

{% block content %}
<div class="section-header">
    <h1>입자 물리 시뮬레이션</h1>
    <p>물리 법칙에 따라 상호작용하는 입자들의 움직임을 관찰해보세요.</p>
</div>

<div class="simulation-container card">
    <div class="simulation-controls">
        <div class="control-group">
            <label for="gravityControl">중력: <span id="gravityValue">9.8</span> m/s²</label>
            <input type="range" id="gravityControl" min="0" max="20" step="0.1" value="9.8">
        </div>
        
        <div class="control-group">
            <label for="frictionControl">마찰: <span id="frictionValue">0.01</span></label>
            <input type="range" id="frictionControl" min="0" max="0.1" step="0.001" value="0.01">
        </div>
        
        <div class="control-group">
            <label for="elasticityControl">탄성: <span id="elasticityValue">0.8</span></label>
            <input type="range" id="elasticityControl" min="0" max="1" step="0.01" value="0.8">
        </div>
        
        <div class="control-group">
            <label for="airResistanceControl">공기저항: <span id="airResistanceValue">0.001</span></label>
            <input type="range" id="airResistanceControl" min="0" max="0.01" step="0.0001" value="0.001">
        </div>
        
        <div class="control-group">
            <label for="particleCountControl">입자 수: <span id="particleCountValue">30</span></label>
            <input type="range" id="particleCountControl" min="1" max="100" step="1" value="30">
        </div>
        
        <div class="checkbox-group">
            <label>
                <input type="checkbox" id="collisionToggle" checked>
                입자 간 충돌 감지
            </label>
        </div>
        
        <div class="checkbox-group">
            <label>
                <input type="checkbox" id="vectorToggle">
                속도 벡터 표시
            </label>
        </div>
        
        <div class="checkbox-group">
            <label>
                <input type="checkbox" id="trailToggle">
                궤적 표시
            </label>
        </div>
        
        <div class="control-group">
            <label for="colorModeSelect">색상 모드:</label>
            <select id="colorModeSelect" class="form-select">
                <option value="velocity">속도 기반</option>
                <option value="size">크기 기반</option>
                <option value="random">랜덤 고정</option>
            </select>
        </div>
        
        <div class="button-group">
            <button id="startSimulation" class="btn" disabled>시작</button>
            <button id="stopSimulation" class="btn btn-secondary">정지</button>
            <button id="resetSimulation" class="btn btn-secondary">초기화</button>
        </div>
    </div>
    
    <canvas id="simulationCanvas"></canvas>
    
    <div class="simulation-info">
        <h3>입자 물리 시뮬레이션</h3>
        <p>이 시뮬레이션은 다양한 물리 법칙이 적용된 입자들의 움직임을 보여줍니다. 중력, 마찰, 탄성, 공기저항 등의 매개변수를 조절하여 물리 세계가 어떻게 변화하는지 관찰해보세요.</p>
        
        <div class="simulation-interaction-hint">
            <p><strong>팁:</strong> 캔버스를 클릭하면 새로운 입자를 추가할 수 있습니다.</p>
        </div>
        
        <div class="simulation-theory">
            <h4>관련 물리 원리</h4>
            <ul>
                <li><strong>중력:</strong> 지구의 중력 가속도는 약 9.8 m/s²입니다. 이 값을 조정하면 다른 행성이나 무중력 상태를 시뮬레이션할 수 있습니다.</li>
                <li><strong>탄성 충돌:</strong> 탄성계수가 1에 가까울수록 충돌 시 에너지 손실이 적어 더 많이 튀어오르게 됩니다.</li>
                <li><strong>마찰력:</strong> 물체가 표면에 닿을 때 발생하는 힘으로, 운동 방향과 반대로 작용합니다.</li>
                <li><strong>공기저항:</strong> 물체의 속도 제곱에 비례하는 항력으로, 빠를수록 더 큰 저항을 받습니다.</li>
                <li><strong>운동량 보존:</strong> 입자 간 충돌에서 운동량(질량×속도)의 합은 보존됩니다.</li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/simulation.js') }}"></script>
{% endblock %}